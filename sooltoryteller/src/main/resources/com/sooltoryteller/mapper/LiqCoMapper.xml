<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sooltoryteller.mapper.LiqCoMapper">	
	
	<select id="getLiqCoId" resultType="Long">
	select liq_co_id
	from liq_co
	where nm = #{liqCoNm}
	</select>
	
	<insert id="insertLiqCo">
	insert into liq_co(liq_co_id,nm,addr,hmpg,telno)
	values(LIQ_CO_SEQ.nextval,#{nm},#{addr},#{hmpg},#{telno})
	</insert>
	
	<select id="getLiqCoListWithPaging" resultType="com.sooltoryteller.domain.LiqCoVO">
	<![CDATA[
	select co.liq_co_id,co.nm,co.telno,co.regdate,co.updatedate
	from (
	select /*+index_desc(liq_co liq_co_pk)*/
	rownum rn, liq_co_id, nm, telno, regdate, updatedate
	from liq_co
	where liq_co_id > 0
	and rownum <= #{pageNum}*#{amount}
	)co where rn > (#{pageNum} -1)*#{amount}
	]]>
	</select>
	
	<select id="getLiqCoById" resultType="com.sooltoryteller.domain.LiqCoVO">
	select liq_co_id, nm, addr, hmpg, telno,regdate, updatedate
	from liq_co
	where liq_co_id = #{liqCoId}
	</select>
	
	<select id="liqCoCnt" resultType="int">
	<![CDATA[
	select count(*)
	from liq_co
	where liq_co_id >0
	]]>
	</select>
	
</mapper>